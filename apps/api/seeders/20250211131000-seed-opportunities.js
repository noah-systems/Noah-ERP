import crypto from 'node:crypto';

/** @type {import('sequelize-cli').Seeder} */
export async function up(queryInterface) {
  const now = new Date();
  const records = [
    {
      id: crypto.randomUUID(),
      company_name: 'Distribuidora Rio Norte',
      cnpj: '12.345.678/0001-90',
      contact_name: 'Paulo Azevedo',
      contact_email: 'paulo@rionorte.com',
      contact_phone: '+55 21 98888-9001',
      finance_email: 'financeiro@rionorte.com',
      finance_phone: '+55 21 3222-1100',
      subdomain: 'rionorte',
      amount: '4500.00',
      stage: 'NEGOTIATION',
      trial_ends_at: null,
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'WhatsApp'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'Tech Solutions LTDA',
      cnpj: '98.765.432/0001-10',
      contact_name: 'Ana Costa',
      contact_email: 'ana@techsolutions.com.br',
      contact_phone: '+55 11 97777-4422',
      finance_email: 'financeiro@techsolutions.com.br',
      finance_phone: '+55 11 4002-8922',
      subdomain: 'techsolutions',
      amount: '6200.00',
      stage: 'PRESENTATION',
      trial_ends_at: null,
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'Campanhas'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'Varejo Center',
      cnpj: '54.321.098/0001-77',
      contact_name: 'Roberta Lima',
      contact_email: 'roberta@varejocenter.com',
      contact_phone: '+55 31 98888-1122',
      finance_email: 'contas@varejocenter.com',
      finance_phone: '+55 31 3344-5566',
      subdomain: 'varejocenter',
      amount: '8800.00',
      stage: 'PROPOSAL',
      trial_ends_at: null,
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'Instagram', 'Facebook'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'Digital Store',
      cnpj: '23.456.789/0001-12',
      contact_name: 'Carla Mendes',
      contact_email: 'carla@digitalstore.com',
      contact_phone: '+55 41 97777-0044',
      finance_email: 'financeiro@digitalstore.com',
      finance_phone: '+55 41 4000-7788',
      subdomain: 'digitalstore',
      amount: '5900.00',
      stage: 'TRIAL',
      trial_ends_at: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'WhatsApp', 'VOIP'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'Commerce Pro',
      cnpj: '11.222.333/0001-55',
      contact_name: 'Felipe Santos',
      contact_email: 'felipe@commercepro.com',
      contact_phone: '+55 41 98888-6677',
      finance_email: 'finance@commercepro.com',
      finance_phone: '+55 41 3022-3344',
      subdomain: 'commercepro',
      amount: '7300.00',
      stage: 'TRIAL_EXPIRING',
      trial_ends_at: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000),
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'Instagram'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'Farmácia Boa Vida',
      cnpj: '44.555.666/0001-21',
      contact_name: 'Lívia Rocha',
      contact_email: 'livia@boavida.com',
      contact_phone: '+55 71 98888-9911',
      finance_email: 'financeiro@boavida.com',
      finance_phone: '+55 71 3555-7788',
      subdomain: 'boavida',
      amount: '5100.00',
      stage: 'WON',
      trial_ends_at: null,
      owner_id: crypto.randomUUID(),
      tags: ['CRM', 'WhatsApp'],
      lost_reason: null,
      created_at: now,
      updated_at: now,
    },
    {
      id: crypto.randomUUID(),
      company_name: 'AgroMundo',
      cnpj: '77.888.999/0001-33',
      contact_name: 'Marcos Vieira',
      contact_email: 'marcos@agromundo.com',
      contact_phone: '+55 62 98888-4455',
      finance_email: 'financeiro@agromundo.com',
      finance_phone: '+55 62 3300-2211',
      subdomain: 'agromundo',
      amount: '4800.00',
      stage: 'LOST',
      trial_ends_at: null,
      owner_id: crypto.randomUUID(),
      tags: ['CRM'],
      lost_reason: 'Preferiu concorrente com proposta mais enxuta.',
      created_at: now,
      updated_at: now,
    },
  ];

  await queryInterface.bulkInsert('opportunities', records);
}

/** @type {import('sequelize-cli').Seeder} */
export async function down(queryInterface) {
  await queryInterface.bulkDelete('opportunities', null, {});
}
